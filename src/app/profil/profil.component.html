<form [formGroup]="form" (ngSubmit)="updateProfile()">
    <h1>Mon Profil</h1>

    <div class="form-row">
        <label for="nom">Nom :</label>
        <input type="text" id="nom" formControlName="nom" [value]="data?.nom" name="nom" />
    </div>

    <div class="form-row">
        <label for="prenom">Prénom :</label>
        <input type="text" id="prenom" formControlName="prenom" [value]="data?.prenom" name="prenom" />
    </div>

    <div class="form-row">
        <label for="email">Email :</label>
        <input type="email" id="email" [value]="data?.email" name="email" [readOnly]="true" />
    </div>

    <div class="form-row">
        <label>Âge :</label>
        <p class="age-info">{{age}} ans</p>
    </div>

    <div class="form-row">
        <label for="telephone">Téléphone :</label>
        <input type="phone" id="telephone" formControlName="telephone" [value]="data?.telephone" name="telephone" />
    </div>
    <div class="form-error" *ngIf="form.get('telephone')?.touched && form.get('telephone')?.invalid">
        <small *ngIf="form.get('telephone')?.errors?.['required']">Requis</small>
        <small *ngIf="form.get('telephone')?.errors?.['pattern']">Format invalide (ex: 06 12 34 56 78)</small>
    </div>

    <fieldset>
        <legend>Sexe :</legend>
        <label><input type="radio" value="M" formControlName="sexe" /> M</label>
        <label><input type="radio" value="F" formControlName="sexe" /> F</label>
    </fieldset>
    <div class="form-error" *ngIf="form.get('sexe')?.touched && form.get('sexe')?.invalid">
        <small>Sélectionnez un sexe</small>
    </div>

    <div class="buttons">
        <button type="submit" [disabled]="form.invalid">Mettre à jour</button>
        <button type="button" (click)="deleteProfile()">Supprimer compte</button>
    </div>
</form>